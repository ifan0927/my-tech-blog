---
title: "Setting Up a Production-Ready Mac Mini M4 Development Environment"
date: 2025-11-24T22:51:55+08:00
draft: false
toc: false
images:
tags:
- remote-development
- mac-mini
- docker
- n8n


categories:
- Development Setup
- DevOps
- Productivity Tools
---

## Introduction

When transitioning to a new development machine, especially one intended to serve as both a local workstation and a remote development server, the setup process requires careful planning. This article documents the complete configuration of a Mac mini M4 (24GB) as a full-featured development environment, focusing on remote accessibility, containerized services, and productivity automation through n8n.

The goal is clear: create a reliable, remotely accessible development hub that supports Go-based backend projects, database management, and workflow automation—all while maintaining clean separation between development tools and system configurations.

## Core Setup Philosophy

### Hardware Foundation
The Mac mini M4 with 24GB RAM provides sufficient resources for running multiple containerized services simultaneously. The ARM64 architecture (Apple Silicon) requires special attention when selecting Docker images and compiling dependencies, but offers excellent performance-per-watt for long-running services.

### Remote Access Strategy
Remote development access is established through:
- **Tailscale VPN**: Provides secure, NAT-traversing connectivity without port forwarding
- **SSH server**: Enabled through System Settings → General → Sharing → Remote Login
- **VS Code Remote SSH**: Primary development interface when working remotely

This combination eliminates the complexity of dynamic DNS or port forwarding while maintaining security through Tailscale's identity-aware networking.

## Essential Development Tools

### Package Management and CLI Tools
```bash
# Install Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Core development tools
brew install git
brew install --cask visual-studio-code
brew install go
brew install docker
brew install --cask docker  # Docker Desktop for Mac

# Database clients
brew install mysql-client
brew install postgresql@14

# Productivity and utilities
brew install tmux
brew install htop
brew install jq
```

### Database Configuration: MySQL
For Go-based property management projects requiring MySQL:

```bash
# Install MySQL via Homebrew
brew install mysql

# Start MySQL service
brew services start mysql

# Secure installation
mysql_secure_installation

# Create development database
mysql -u root -p
CREATE DATABASE property_management_dev CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'dev_user'@'localhost' IDENTIFIED BY 'secure_password';
GRANT ALL PRIVILEGES ON property_management_dev.* TO 'dev_user'@'localhost';
FLUSH PRIVILEGES;
```

**Why Homebrew MySQL over Docker for development databases?**
- Native ARM64 performance without emulation overhead
- Persistent storage naturally handled by macOS filesystem
- Simpler connection strings for local development (`localhost:3306`)
- Automatic startup with `brew services`

## Containerized Services Setup

### Docker Desktop Configuration
Docker Desktop for Mac M4 requires specific configuration for optimal ARM64 support:

1. **Settings → General**: Enable "Use Virtualization framework"
2. **Settings → Resources**: Allocate 8GB RAM, 4 CPUs for container workloads
3. **Settings → Docker Engine**: Add experimental features if needed

### n8n Workflow Automation
n8n serves as the productivity automation hub, handling scheduled tasks, API integrations, and workflow orchestration.

```yaml
# docker-compose.yml for n8n
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    container_name: n8n
    restart: unless-stopped
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}
      - N8N_HOST=${N8N_HOST}
      - N8N_PROTOCOL=https
      - WEBHOOK_URL=https://${N8N_HOST}/
      - GENERIC_TIMEZONE=Asia/Taipei
    volumes:
      - n8n_data:/home/node/.n8n
      - ./workflows:/workflows

volumes:
  n8n_data:
```

**Deployment considerations:**
- Store `N8N_PASSWORD` in `.env` file (add to `.gitignore`)
- Use Tailscale MagicDNS for `N8N_HOST` if accessing remotely
- Mount `/workflows` directory for version-controlled workflow backups

```bash
# Start n8n
docker-compose up -d n8n

# View logs
docker-compose logs -f n8n

# Access at http://localhost:5678 (local) or https://mac-mini.tailnet-name.ts.net:5678 (remote)
```

## Go Development Environment

### Project Structure Setup
```bash
# Create workspace directory
mkdir -p ~/workspace/go-projects
cd ~/workspace/go-projects

# Clone property management project
git clone git@github.com:username/property-management-system.git
cd property-management-system

# Install Go dependencies
go mod download

# Verify Go toolchain
go version  # Should show go1.21+ for ARM64
```

Remote SSH connection from external machine:
```bash
# From laptop
ssh -i ~/.ssh/id_ed25519 username@mac-mini.tailnet-name.ts.net

# Or via VS Code Remote SSH extension
# Remote-SSH: Connect to Host... → mac-mini.tailnet-name.ts.net
```

## Productivity Automation with n8n

### Common Workflow Examples

**1. Database Backup Automation**
```javascript
// n8n workflow: Daily MySQL backup
// Trigger: Cron (daily 2 AM)
// → Execute Command: mysqldump
// → Upload to Cloud Storage (optional)

// Execute Command node
const command = `mysqldump -u dev_user -p'${$env.DB_PASSWORD}' property_management_dev > /backup/db_$(date +%Y%m%d).sql`;
```

**2. Git Commit Reminder**
- **Trigger**: Cron (every workday 6 PM)
- **Check**: Query Git for uncommitted changes
- **Notify**: Send Telegram/Slack message if dirty workspace detected

**3. Development Metrics Collection**
- **Trigger**: Webhook from CI/CD pipeline
- **Process**: Extract test coverage, build time
- **Store**: Append to Google Sheets or local CSV

## System Maintenance Considerations

### Automatic Updates Management
```bash
# Disable automatic macOS updates for stability
sudo defaults write /Library/Preferences/com.apple.SoftwareUpdate AutomaticCheckEnabled -bool false

# Manually check when ready
softwareupdate --list
softwareupdate --install --all
```

### Monitoring and Logging
```bash
# System resource monitoring
htop

# Docker container stats
docker stats

# n8n execution logs
docker-compose logs -f n8n --tail=100

# MySQL slow query log
mysql -u root -p -e "SET GLOBAL slow_query_log = 'ON';"
mysql -u root -p -e "SET GLOBAL long_query_time = 2;"
tail -f /usr/local/var/mysql/$(hostname)-slow.log
```

## Conclusion
Today mainly setting up the remote development environment , mainly focusing on the database and containerized services.Also setting up the ssh connection between the mac mini and the laptop. Hopefully this will decrease the difficulty of remaining the difference between the mac mini and the laptop.

